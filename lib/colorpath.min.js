var colorpath=function(){"use strict";var r,t,n=function(r){return r.reduce(function(r,t){return r+t})/r.length},e=function(r){return Math.max.apply(null,r)-Math.min.apply(null,r)<=.02},o=function(r){if(Array.isArray(r))return r;if(r=""+r,/^#?[0123456789AaBbCcDdEeFf]{6}$/.test(r)){r=r.slice(-6);var t=parseInt(r[0]+r[1],16),n=parseInt(r[2]+r[3],16),e=parseInt(r[4]+r[5],16);return[t,n,e]}if(/\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}/.test(r)&&(r=/\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}/.exec(r)[0].split(",").map(function(r){return Number(r.trim())}),r.every(function(r){return r<=255})))return r;throw new Error(r+" is not a legal color!")},a=function(r){return Number(r.toPrecision(4))},u={getAverage:n,validatePercentages:e,formatColor:o,formatNumber:a},f=function(r,t){var n=u.formatColor(r);return n.map(function(r){r=Number(r);var n=255;return Math.round(r+(n-r)*t)})},i=function(r,t){var n=u.formatColor(r);return n.map(function(r){return Math.round(r*(1-t))})},c=function(r,t,n){var e=u.formatColor(r),o=u.formatColor(t);return e.map(function(r,t){var e=o[t];return Math.round(e-(e-r)*n)})},m=function(r,t){var n=u.formatColor(r),e=u.formatColor(t),o=[];if(n.forEach(function(r,t){var n=255;if(r!==n){var a=e[t];o.push((a-r)/(n-r))}}),u.validatePercentages(o))return u.formatNumber(u.getAverage(o));throw new Error(t+" can not be tinted from "+r+", try findPath instead.")},d=function(r,t){var n=u.formatColor(r),e=u.formatColor(t),o=n.map(function(r,t){var n=e[t];return n/r});if(u.validatePercentages(o))return u.formatNumber(1-u.getAverage(o));throw new Error(t+" can not be shaded from "+r+", try findPath instead.")},l=function(n,e){return Math.round((t[n]-r[n]*e)/(1-e))},s=function(n,e){return(e-t[n])/(e-r[n])},v=function(r){return r=u.formatNumber(r),r>=0&&r<=1},h=function(r){return r.every(function(r){return r>=0&&r<=255})},p=function(n,e){r=u.formatColor(n),t=u.formatColor(e);for(var o,a=[],f=[0,255],i=0;i<3;i++)for(var c=0;c<2;c++){var m=f[c];if(o=s(i,m),a=[l(0,o),l(1,o),l(2,o)],v(o)&&h(a))return{mixer:a,percentage:u.formatNumber(o)}}return{}},g=function(r,t){var n=u.formatColor(r),e=u.formatColor(t);try{try{return{method:"shade",percentage:d(n,e)}}catch(r){return{method:"tint",percentage:m(n,e)}}}catch(r){var o=p(n,e);return{method:"mix",mixer:o.mixer,percentage:o.percentage}}},C={tint:f,shade:i,mix:c,findTint:m,findShade:d,findMixer:p,findPath:g};return C}();
